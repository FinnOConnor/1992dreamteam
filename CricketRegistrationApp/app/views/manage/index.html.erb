<h1> Manage Teams</h1>

<head>
  <meta charset="utf-8">
  <title>jQuery UI Droppable - Shopping Cart Demo</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css">
  <style>
  h1 { padding: .2em; margin: 0; }
  #products { float:left; width: 500px; margin-right: 2em; }
  #cart { width: 500px; float: left; margin-top: 1em; }
  /* style the list to maximize the droppable hitarea */
  #cart ol { margin: 0; padding: 1em 0 1em 3em; }
  #product ol { margin: 0; padding: 1em 0 1em 3em; }
  </style>
  <script>
  $(function() {
    $( "#cart li" ).draggable({
      appendTo: "body",
      helper: "clone"
    });
    $( "#catalog" ).accordion({heightStyle: 'panel'});
    $( "#catalog li" ).draggable({
      appendTo: "body",
      helper: "clone"
    }).addClass('dropped');
    
    
    $( "#catalog ol" ).droppable({
      out: function (event, ui) {
            var self = ui;
            ui.helper.off('mouseup').on('mouseup', function () {
                $(this).remove();
                self.draggable.remove();
            });
        },
      activeClass: "ui-state-default",
      hoverClass: "ui-state-hover",
      accept: "#cart li",
      accept: ":not(.ui-sortable-helper)",
      drop: function( event, ui ) {
          if (ui.draggable.is('.dropped')) return false;
        $( this ).find( ".placeholder" ).remove();
         $("<li></li>").text(ui.draggable.text()).appendTo(this).draggable({
                appendTo: "body",
                helper: "clone"
            }).addClass('dropped');
      }
    }).sortable({
      items: "li:not(.placeholder)",
      sort: function() {
        // gets added unintentionally by droppable interacting with sortable
        // using connectWithSortable fixes this, but doesn't allow you to customize active/hoverClass options
        $( this ).removeClass( "ui-state-default" );
      }
    });
  });
  </script>
</head>
<body>
 
<div id="products">
  <h1 class="ui-widget-header">Team</h1>
  <div id="catalog">
    <% @teams.each do |team| %>
      <h2><a href="#"><%= team.name %></a></h2>
      <ol>
    <div>
        
        <% team.players.each do |player| %>
          <li><%= [player.first_name, player.surname].join(" ") %> </li>
        <% end %>
        
    </div>
          </ol>
    <% end %>
  </div>
</div>
 
<div id="cart">
  <h1 class="ui-widget-header">Players</h1>
  <div class="ui-widget-content">
    <ol>
      <% @players.each do |player| %>
        <li><%= [player.first_name, player.surname].join(" ") %> </li>
      <% end %>
    </ol>
  </div>
</div>
 
 
</body>
